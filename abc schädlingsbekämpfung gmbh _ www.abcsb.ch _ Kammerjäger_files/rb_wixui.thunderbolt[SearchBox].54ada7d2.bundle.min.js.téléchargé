!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[SearchBox]",["imageClientApi","react","reactDOM"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[SearchBox]"]=t(require("@wix/image-kit"),require("react"),require("react-dom")):e["rb_wixui.thunderbolt[SearchBox]"]=t(e.__imageClientApi__,e.React,e.ReactDOM)}("undefined"!=typeof self?self:this,(function(e,t,n){return function(){var o={42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},95561:function(e){"use strict";e.exports=n},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e](n,n.exports,r),n.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return function(){"use strict";r.r(l),r.d(l,{components:function(){return kt}});var e=r(448),t=r.n(e),n=r(5329),o=r.n(n);function a(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}var i=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(o&&(o+=" "),o+=t);return o};const s=13,u=27,c=38,d=40;function m(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}const g=m(32),p=m(s),h=e=>{p(e),g(e)},f=(m(u),"has-custom-focus"),v=()=>"undefined"!=typeof window,b=e=>Object.entries(e).reduce(((e,[t,n])=>(t.includes("data-")&&(e[t]=n),e)),{});const E="wixui-",y=(e,...t)=>{const n=[];return e&&n.push(`${E}${e}`),t.forEach((e=>{e&&(n.push(`${E}${e}`),n.push(e))})),n.join(" ")};var S={root:"search-bar",icon:"search-bar__icon",input:"search-bar__input"},C="HlRz5e",w=r(42662);const{STATIC_MEDIA_URL:x}=w,I=({fittingType:e,src:t,target:n,options:o})=>{const a=w.getPlaceholder(e,t,n,{...o,autoEncode:!0});return a?.uri&&!/^[a-z]+:/.test(a.uri)&&(a.uri=`${x}${a.uri}`),a},k=/^[a-z]+:/,L=e=>{const{id:t,containerId:o,uri:a,alt:r,name:l="",role:i,width:s,height:u,displayMode:c,devicePixelRatio:d,quality:m,alignType:g,bgEffectName:p="",focalPoint:h,upscaleMethod:f,className:v="",crop:b,imageStyles:E={},targetWidth:y,targetHeight:S,targetScale:w,onLoad:L=(()=>{}),onError:N=(()=>{}),shouldUseLQIP:M,containerWidth:O,containerHeight:V,getPlaceholder:R,isInFirstFold:T,placeholderTransition:P,socialAttrs:_,isSEOBot:F,skipMeasure:A,hasAnimation:D}=e,B=n.useRef(null);let H="";const j="blur"===P,q=n.useRef(null);if(!q.current)if(R||M||T||F){const e={upscaleMethod:f,...m||{},shouldLoadHQImage:T,isSEOBot:F,hasAnimation:D};q.current=(R||I)({fittingType:c,src:{id:a,width:s,height:u,crop:b,name:l,focalPoint:h},target:{width:O,height:V,alignment:g,htmlTag:"img"},options:e}),H=!q.current.transformed||T||F?"":"true"}else q.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const K=!F&&(R||M)&&!T&&q.current.transformed,W=n.useMemo((()=>JSON.stringify({containerId:o,...o&&{containerId:o},...g&&{alignType:g},...A&&{skipMeasure:!0},displayMode:c,...O&&{targetWidth:O},...V&&{targetHeight:V},...y&&{targetWidth:y},...S&&{targetHeight:S},...w&&{targetScale:w},isLQIP:K,isSEOBot:F,lqipTransition:P,imageData:{width:s,height:u,uri:a,name:l,displayMode:c,hasAnimation:D,...m&&{quality:m},...d&&{devicePixelRatio:d},...h&&{focalPoint:h},...b&&{crop:b},...f&&{upscaleMethod:f}}})),[o,g,A,c,V,O,y,S,w,K,F,P,s,u,a,l,m,d,h,b,f,D]),U=q.current,z=U?.uri,X=U?.srcset,Z=U.css?.img,$=`${C} ${v}`;n.useEffect((()=>{const e=B.current;L&&e?.currentSrc&&e?.complete&&L({target:e})}),[]);const Q=U&&!U?.transformed?`max(${s}px, 100%)`:y?`${y}px`:null;return n.createElement("wow-image",{id:t,class:$,"data-image-info":W,"data-motion-part":"BG_IMG","data-bg-effect-name":p,"data-has-ssr-src":H,"data-animate-blur":!F&&K&&j?"":void 0,style:Q?{"--wix-img-max-width":Q}:{}},n.createElement("img",{src:z,ref:B,alt:r||"",role:i,style:{...Z,...E},onLoad:L,onError:N,width:O||void 0,height:V||void 0,..._,srcSet:T?X?.dpr?.map((e=>k.test(e)?e:`${x}${e}`)).join(", "):void 0,fetchpriority:T?"high":void 0,loading:!1===T?"lazy":void 0,suppressHydrationWarning:!0}))};var N="I5zqsT";var M=e=>{var o,a;const{id:r,uri:l,alt:s,role:u,className:c,imageStyles:d={},targetWidth:m,targetHeight:g,onLoad:p,onError:h,containerWidth:f,containerHeight:v,isInFirstFold:b,socialAttrs:E,skipMeasure:y,responsiveImageProps:S,zoomedImageResponsiveOverride:C}=e,w=m||f,x=g||v,I=w+"px";return null!=S&&S.css&&null!=S&&S.srcset?n.createElement("img",t()({fetchpriority:b?"high":void 0,loading:!1===b?"lazy":void 0,sizes:I,srcSet:y?null==C?void 0:C.srcset:null==S?void 0:S.srcset,id:r,src:l,alt:s||"",role:u,style:{...d,...y?{...null==C||null==(o=C.css)?void 0:o.img}:{...null==S||null==(a=S.css)?void 0:a.img}},onLoad:p,onError:h,className:i(c,N),width:w,height:x},E)):n.createElement(L,e)};let O=function(e){return e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Empty=2]="Empty",e[e.Hidden=3]="Hidden",e}({});function V(e){const[t,o]=(0,n.useState)((a=e.image)?a.name?v()?O.Loading:O.Loaded:O.Empty:O.Hidden);var a;return{onError:()=>o(O.Empty),onLoad:()=>o(O.Loaded),thumbnailState:t}}var R="U603xX",T="FedNkl",P="Z3eRZ6",_="UXNCo3",F="D_fVyl",A="CA8K4D",D="zQjJyB";const B=e=>{var t,n,a;let{action:r,id:l,item:s}=e;const{thumbnailState:u,onError:c,onLoad:d}=V(s),m="fit"===(null==(t=s.image)?void 0:t.resizeMode)?"fit":"fill";return o().createElement("div",{className:R,title:s.title,onClick:()=>r(),"data-testid":"suggestion-item-action"},u!==O.Hidden&&o().createElement("div",{className:i(P,{[_]:u===O.Empty,[F]:u===O.Loading}),"data-testid":"thumbnail"},u!==O.Empty&&o().createElement(M,{alt:s.title,containerId:l,displayMode:m,height:(null==(n=s.image)?void 0:n.height)||55,id:"thumb-"+l,name:s.title,onError:c,onLoad:d,uri:s.image.name,width:(null==(a=s.image)?void 0:a.width)||73})),o().createElement("div",{className:T},o().createElement("span",{className:A,dangerouslySetInnerHTML:{__html:s.title}}),s.description&&o().createElement("p",{className:D,dangerouslySetInnerHTML:{__html:s.description}})))};var H="u6Qhf2",j="Nn5HXB";const q=e=>{let{item:t}=e;return n.createElement("div",{className:H},n.createElement("div",{className:j},n.createElement("span",null,t.title)))};var K="k6cep8",W="Zg1VXg",U="q0F5lM";const z=e=>{let{scrollIntoRef:t,suggestions:o}=e;return n.createElement("div",{className:i(K,{[W]:!(null!=o&&o.footer)}),role:"listbox"},null==o?void 0:o.items.map((e=>{let{action:o,id:a,isActive:r,item:l,testId:s,type:u}=e;return n.createElement("div",{"aria-selected":r,className:i({[U]:!!l.url}),"data-testid":s,key:a,ref:r?t:void 0,role:"option"},"item"===u?n.createElement(B,{action:o,id:a,item:l}):n.createElement(q,{action:o,id:a,item:l}))})))};var X;function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Z.apply(this,arguments)}var $=function(e){return n.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",viewBox:"5 5 14 14"},e),X||(X=n.createElement("path",{fill:"currentColor",d:"m15.683 14.6 3.265 3.265a.2.2 0 0 1 0 .282l-.8.801a.2.2 0 0 1-.283 0l-3.266-3.265a5.961 5.961 0 1 1 1.084-1.084zm-4.727 1.233a4.877 4.877 0 1 0 0-9.754 4.877 4.877 0 0 0 0 9.754z"})))};const Q="search-suggestion-item-";var G="GWiB9A",J="q6kVwv";const Y=e=>{let{children:t,onClick:o}=e;return n.createElement("div",{className:G},n.createElement("button",{className:J,role:"link","data-testid":"suggestions-show-all-button",onClick:o},t))};var ee="g3as8r",te="TrbL5O",ne="h0H1OP";const oe=e=>{let{id:t,onSuggestionsFooterClick:o,query:a,translations:r,useModalSuggestions:l}=e;const i=r.footerSearchAllText+' "'+a+'"',s=()=>{null==o||o({type:"suggestionsFooterClick",compId:t})};return l?n.createElement(Y,{onClick:s},i):n.createElement("button",{className:ee,role:"link","data-testid":"footer-link",onClick:s},n.createElement($,{className:te}),n.createElement("span",{className:ne},i))};var ae="_xpJkc",re="JK71Yc",le="oRg3Ie",ie="UaSQpI";const se=e=>{(e=>{let{callback:t,ref:o,elem:a}=e;(0,n.useEffect)((()=>{const e=new ResizeObserver(t);return null!=o&&o.current&&e.observe(o.current),a&&e.observe(a),()=>{e.disconnect()}}),[o,a,t])})({callback:(0,n.useCallback)((()=>{var t,n;const o=null==e||null==(t=e.current)?void 0:t.clientHeight;null==e||null==(n=e.current)||n.style.setProperty("--component-height",o+"px")}),[e]),ref:e})},ue=e=>{let{id:t,children:o,parentRef:a,isSuggestionsShown:r,onSuggestionsFooterClick:l,query:s,scrollIntoRef:u,suggestions:c,translations:d,useModalSuggestions:m}=e;return se(a),n.createElement("div",{className:i(ae,{[re]:r})},n.createElement("div",{className:le},o),r&&n.createElement("div",{className:ie,"aria-hidden":"true"},n.createElement(z,{scrollIntoRef:u,suggestions:c}),(null==c?void 0:c.footer)&&n.createElement(oe,{id:t,onSuggestionsFooterClick:l,query:s,translations:d,useModalSuggestions:m})))};function ce(e,t){const{id:o,value:a,onSuggestionGroupSelect:r,onSuggestionSelect:l,suggestions:i}=e,[s,u]=n.useState(-1),c=n.useRef(null);n.useEffect((()=>{c.current&&(null==c.current.scrollIntoView||c.current.scrollIntoView(!1))}),[s]),n.useEffect((()=>{t||u(-1)}),[t]),n.useEffect((()=>{u(-1)}),[a]);const d=n.useMemo((()=>function(e,t){let{id:n,suggestions:o,onSuggestionGroupSelect:a,onSuggestionSelect:r}=e;return null!=o&&o.items?{...o,items:o.items.map(((e,o)=>{const l=e.type,i=[Q,o],s=i.join("");return"image"in e&&e.image&&i.push(e.image.name),{action:()=>{const t={compId:n,syntheticEvent:e};"group"===l?null==a||a({type:"suggestionGroupSelect",...t}):null==r||r({type:"suggestionSelect",...t})},id:i.join("_"),isActive:o===t,item:{...e,url:"group"===l?void 0:e.url},testId:s,type:l}}))}:{...o,items:[]}}({id:o,onSuggestionGroupSelect:r,onSuggestionSelect:l,suggestions:i},s)),[s,o,r,l,i]),m=d.items.filter((e=>e.item.url)),g=m.length,p=m.findIndex((e=>{var t;return e.id===(null==(t=d.items[s])?void 0:t.id)}));return{moveDown:()=>{const e=p<g-1?p+1:0;u(d.items.findIndex((t=>{var n;return t.id===(null==(n=m[e])?void 0:n.id)})))},moveUp:()=>{const e=p>0?p-1:g-1;u(d.items.findIndex((t=>{var n;return t.id===(null==(n=m[e])?void 0:n.id)})))},navigate:()=>{try{var e;null==d||null==(e=d.items)||e[s].action()}catch(e){console.error("Error while navigating",e)}},scrollIntoRef:c,activeOptionIndex:s,suggestionsWithNavigation:d}}const de=function(e,t,o,a){void 0===a&&(a=!0),(0,n.useEffect)((()=>{const n=e=>{const n=e.target;if(n){for(const e of t){var a;if(e instanceof HTMLElement){if(e&&e.contains(n))return}else if(null!=e&&null!=(a=e.current)&&a.contains(n))return}o()}};return document.addEventListener(e,n,a),()=>{document.removeEventListener(e,n,a)}}),[...t,o,e])};var me,ge=r(95561);function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},pe.apply(this,arguments)}var he=function(e){return n.createElement("svg",pe({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),me||(me=n.createElement("path",{d:"m15.071 5 .707.707-6.364 6.363 6.364 6.365-.707.707L8 12.071 15.071 5Z",fill:"currentColor"})))},fe="XeX7vS",ve="r_WbdF",be="ZxQq8q";const Ee=e=>{let{direction:t,onClick:o}=e;return n.createElement("div",{className:fe,"data-testid":"modalSearchSuggestionsCloseButton",onClick:o},n.createElement(he,{className:i(ve,{[be]:"rtl"===t})}))};var ye="fuYJV8",Se="q4fpr5",Ce="WRjDFM";const we=()=>n.createElement("div",{className:ye,"data-testid":"suggestions-loader"},n.createElement("svg",{viewBox:"0 0 50 50",className:Se},n.createElement("circle",{className:Ce,cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"2"})));var xe="RlO8U_",Ie="Q2YYMa",ke="oEUJj7",Le="TaFPqR";const Ne=e=>{let{children:t,clearValue:o,closeSuggestions:a,direction:r,id:l,inputRef:i,onSuggestionsFooterClick:s,query:u,scrollIntoRef:c,suggestions:d,suggestionsLoading:m,translations:g,scopedClassName:p}=e;const[h,f]=n.useState();n.useEffect((()=>{const e=document.createElement("div");return document.body.appendChild(e),p&&e.classList.add(p),f(e),()=>{document.body.removeChild(e)}}),[p]);return n.useEffect((()=>{setTimeout((()=>{var e;null==(e=i.current)||e.focus()}),400)}),[]),h?(0,ge.createPortal)(n.createElement("div",{dir:r,className:xe,"data-testid":"modalSearchSuggestions",role:"dialog"},n.createElement("div",{className:Ie},n.createElement(Ee,{direction:r,onClick:()=>{a(),o()}}),n.createElement("div",{className:ke},t)),n.createElement("div",{className:Le,onScroll:()=>{var e;null==(e=i.current)||e.blur()}},n.createElement(z,{scrollIntoRef:c,suggestions:d}),(null==d?void 0:d.footer)&&n.createElement(oe,{id:l,onSuggestionsFooterClick:s,query:u,translations:g,useModalSuggestions:!0}),m&&n.createElement(we,null))),h):null},Me=({size:e,...t})=>n.createElement("svg",{viewBox:"0 0 20 20",fill:"currentColor",width:e||"20",height:e||"20",...t},n.createElement("path",{fillRule:"evenodd",d:"M9.5,3 C13.084,3 16,5.916 16,9.5 C16,13.084 13.084,16 9.5,16 C5.916,16 3,13.084 3,9.5 C3,5.916 5.916,3 9.5,3 Z M9.5,4 C6.467,4 4,6.467 4,9.5 C4,12.533 6.467,15 9.5,15 C12.533,15 15,12.533 15,9.5 C15,6.467 12.533,4 9.5,4 Z M10,11 L10,12 L9,12 L9,11 L10,11 Z M10,7 L10,10 L9,10 L9,7 L10,7 Z"}));Me.displayName="ErrorSmall";var Oe=Me,Ve="TLWrjM",Re="GIPQqH",Te="JNgJbf";const Pe=e=>{let{errorMessage:t,errorMessageType:o,shouldShowValidityIndication:a,translations:r,dataHook:l,componentViewMode:i}=e;const s="editor"===i?(null==r?void 0:r.errorMessage)||"Error text displays here.":t;return"inline"===o&&a&&s?n.createElement("div",{"data-hook":l||"inline-error-message",className:Ve},n.createElement(Oe,{className:Re}),n.createElement("span",{className:Te},s)):null};var _e={root:"text-input",inputEl:"text-input__input",inputLabel:"text-input__label"},Fe={input:"KvoMHf",hideNumberSpinner:"ErucfC",AppsTextInputSkin:"MpKiNN",appsTextInputSkin:"MpKiNN",inputWrapper:"pUnTVX",prefix:"eXvLsN","validation-indication":"LyB02C",validationIndication:"LyB02C",label:"wPeA6j",hasLabel:"qzvPmW","required-indication":"lPl_oN",requiredIndication:"lPl_oN",ResponsiveTextInputSkin:"ZXdXNL",responsiveTextInputSkin:"ZXdXNL",keepInputHeight:"Bedjyp"};const Ae="Please enter a phone number with {digits} digits",De="Please enter between 4 to 17 digits. You can include hyphens (-) or start with a (+), e.g., 555-123-4567 or +(222)987654321",Be="Please enter between 4 to 17 digits. You can include dividers (-), e.g., 555-123-4567.",He=function(e,t,n){void 0===n&&(n=!0);return Array.from(t).reduce(((e,t,n)=>"-"===t?[...e,n]:e),[]).filter(((t,o)=>n?t<=e.length:t<=e.length+o))},je=(e,t)=>t.replace("{digits}",""+(e?e.replace(/-/g,"").length:0)),qe=()=>{},Ke=(e,o)=>{var a;const{skin:r,name:l,id:s,className:u="",customClassNames:c=[],dataTestId:d,value:m,inputType:g="text",label:p,placeholder:h,readOnly:v,required:E,isDisabled:S,pattern:C,autoComplete:w,autoComplete_:x,maxLength:I,min:k,max:L,step:N,numberSpinnerHidden:M,shouldShowValidityIndication:O,isValid:V,autoFocus:R,prefix:T,phoneFormat:P="",errorMessageType:_="tooltip",validateValue:F=qe,setValidityIndication:A=qe,onBlur:D=qe,onFocus:B=qe,onKeyPress:H=qe,onInput:j=qe,onValueChange:q=qe,onChange:K=qe,onClick:W=qe,onDblClick:U=qe,onMouseEnter:z=qe,onMouseLeave:X=qe,onHydrationComplete:Z=qe,ariaAttributes:$,contentRef:Q,translations:G,componentViewMode:J,keepInputHeightEnabled:Y,textInputAutoFillFixEnabled:ee}=e,te=n.useRef(null),[ne,oe]=n.useState(!0);n.useImperativeHandle(o,(()=>({focus:()=>{var e;null==(e=te.current)||e.focus()},blur:()=>{var e;null==(e=te.current)||e.blur()},setCustomValidity:t=>{var n,o;"message"===t.type?null==(n=te.current)||n.setCustomValidity(t.message):null==(o=te.current)||o.setCustomValidity(((e,t)=>{let{translations:n,phoneFormat:o}=t;switch(e.key){case"PHONE_FORMAT_LENGTH_VALIDATION_ERROR":return je(o,(null==n?void 0:n.phoneFormatLengthValidationError)||Ae);case"PHONE_FORMAT_DEFAULT_VALIDATION_ERROR":return(null==n?void 0:n.phoneFormatDefaultValidationError)||De;case"PHONE_FORMAT_COMPLEX_PHONE_DEFAULT_VALIDATION_ERROR":return(null==n?void 0:n.phoneFormatComplexPhoneDefaultValidationError)||Be;default:return e.key}})(t,{translations:e.translations,phoneFormat:e.phoneFormat}))},getValidationMessage:()=>{var e;return null==(e=te.current)?void 0:e.validationMessage}})));const ae=n.useRef(),re=n.useMemo((()=>"tel"===g&&P?((e,t)=>{const n=He(e,t,!1),o=Array.from(e);return n.forEach((e=>{e<o.length&&o.splice(e,0," ")})),o.join("")})(m,P):m),[m,P,g]),le=e=>{let{shouldHideValidityIndication:t,shouldCallOnInput:n}=e;return e=>{const{value:o}=e.target;let a=o;if(P){const e=o.length<re.length;if(a=((e,t,n)=>{const o=He(e,t);return o.reduce(((t,a,r)=>{if(" "===e[a])t.splice(a-r,1);else if(" "!==e[a+1]||n)" "===e[a-1]&&n&&(e.split(" ").length-1<o.length?t.splice(a-r,1):t.splice(a-r-1,1));else{const e=1-r;t.splice(a+e,1)}return t}),Array.from(e)).join("")})(o,P,e),a.match(/[^\d]/))return}a!==m&&(ae.current=!0,q(a),a!==m&&(e=>{ee&&!ce()&&K({...e,type:"change"})})(e),F()),t&&A(!1),n&&j(e)}};n.useEffect((()=>{setTimeout((()=>{var e,t;le({shouldHideValidityIndication:!0,shouldCallOnInput:!1})({target:{value:null!=(e=null==(t=te.current)?void 0:t.value)?e:""}}),Z({type:"onHydrationComplete"})}),0)}),[]);const ie=i(Fe[r],u,y(_e.root,...c),{[Fe.hasLabel]:!!p,[Fe.requiredIndication]:E,[Fe.validationIndication]:!!O},Y?Fe.keepInputHeight:null),{"aria-label":se,...ue}=(({role:e,tabIndex:t,tabindex:n,...o}={})=>{const a=Object.entries(o).reduce(((e,[t,n])=>({...e,[`aria-${t}`.toLowerCase()]:n})),{role:e,tabIndex:t??n});return Object.keys(a).forEach((e=>{void 0!==a[e]&&null!==a[e]||delete a[e]})),a})($),ce=()=>!!te.current&&te.current===document.activeElement;return n.createElement("div",t()({id:s},b(e),{ref:Q},!Y&&{className:ie},{"data-testid":d,onClick:e=>{S||W(e)},onDoubleClick:e=>{S||U(e)},onMouseEnter:e=>{S||z(e)},onMouseLeave:e=>{S||X(e)}}),n.createElement(...Y?["div",{className:ie}]:[n.Fragment,{}],n.createElement(n.Fragment,null,!!p&&n.createElement("label",{htmlFor:"input_"+s,className:i(Fe.label,y(_e.inputLabel))},p),n.createElement("div",{className:Fe.inputWrapper},T&&n.createElement("div",{className:Fe.prefix},T),n.createElement("input",t()({name:l,ref:te,id:"input_"+s,className:i(Fe.input,f,y(_e.inputEl),{[Fe.hideNumberSpinner]:M}),type:g,value:re,onFocus:B,onKeyDown:H,onChange:le({shouldHideValidityIndication:!0,shouldCallOnInput:!0}),onBlur:e=>{D(e),ae.current&&K({...e,type:"change"}),ae.current=!1,A(!0),ne&&oe(!1)},placeholder:h,readOnly:v,required:E,"aria-required":E,"aria-invalid":(()=>{var e;if(!1===V)return!0;const t=!(null!=(e=te.current)&&e.validity.valid);return!ne&&t})(),pattern:C,maxLength:(()=>{let e=null===I?void 0:I;return P&&(e=P.length),e})(),minLength:P?P.length:void 0,disabled:S,autoComplete:w?"on":x||"off",step:null===N?void 0:N,min:null===k?void 0:k,max:null===L?void 0:L,autoFocus:R,"aria-label":se||p?se:h},ue))))),n.createElement(Pe,{errorMessageType:_,errorMessage:null==(a=te.current)?void 0:a.validationMessage,shouldShowValidityIndication:O,translations:G,componentViewMode:J}))};var We=n.forwardRef(Ke);const Ue={left:"onSwipeLeft",right:"onSwipeRight",up:"onSwipeUp",down:"onSwipeDown"},ze=e=>{if(e.touches&&e.touches.length){const t=e.touches[0];return{x:t.pageX,y:t.pageY}}},Xe={touched:!0,moved:!1,deltaCoords:{x:0,y:0}},Ze=(e,t,n)=>()=>{let o;const a=e=>{o={...Xe,numOfTouches:e.touches.length,startCoords:ze(e),startTime:Date.now(),evObj:{...e}}},r=e=>{if(!o)return;const t=ze(e);if(t){o.startCoords||(o.startCoords=t);const e=o.startCoords.x-t.x,n=o.startCoords.y-t.y;o.moved=!0,o.deltaCoords={x:e,y:n}}},l=()=>{if(o)if(o.endTime=Date.now(),"onTap"===e&&(e=>e.touched&&!e.moved&&1===e.numOfTouches)(o))t(o.evObj);else if((e=>e.moved&&1===e.numOfTouches&&e.endTime-e.startTime<500&&(Math.abs(e.deltaCoords.x)>100||Math.abs(e.deltaCoords.y)>60))(o)){const n=((e,t)=>{let n;return n=Math.abs(e)>Math.abs(t)?e>0?"left":"right":t>0?"up":"down",n})(o.deltaCoords.x,o.deltaCoords.y);e===Ue[n]&&t(o.evObj)}};return n&&n.current&&(n.current.addEventListener("touchstart",a,{passive:!0}),n.current.addEventListener("touchmove",r,{passive:!0}),n.current.addEventListener("touchend",l,{passive:!0})),()=>{n&&n.current&&(n.current.removeEventListener("touchstart",a),n.current.removeEventListener("touchmove",r),n.current.removeEventListener("touchend",l))}};var $e;function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Qe.apply(this,arguments)}var Ge=function(e){return n.createElement("svg",Qe({width:8,height:9,viewBox:"0 0 8 9",xmlns:"http://www.w3.org/2000/svg"},e),$e||($e=n.createElement("path",{d:"M8 1.057 7.293.35 4 3.643.707.35 0 1.057 3.293 4.35 0 7.643l.707.707L4 5.057 7.293 8.35 8 7.643 4.707 4.35 8 1.057Z",fill:"currentcolor"})))},Je="dHwu5A";const Ye=e=>{let{onClick:t,label:o}=e;return n.createElement("div",{"aria-label":o,role:"button",tabIndex:0,className:Je,"data-testid":"clear-button",onClick:t,onKeyDown:h},n.createElement(Ge,null))};var et="nNn3mc",tt="LIyiar",nt="fkomZa",ot="LYhw1A",at="FwtNU8";const rt={autoComplete_:"off",autoComplete:!1,required:!1,shouldShowValidityIndication:!1,skin:"ResponsiveTextInputSkin",validateValueAndShowIndication:()=>{}},lt=e=>{let{autocompleteValue:a,changeValue:r,clearButtonLabel:l,clearValue:s,containerRef:u,id:c,inputRef:d,isDisabled:m,onAutocomplete:g,onBlur:p,onChange:h,onClick:f,onDblClick:v,onFocus:b,onKeyPress:E,placeholder:C,value:w,isModalSuggestionsShown:x}=e;const I=Boolean(w),k=(0,n.useCallback)((e=>{e!==w&&(r(e),null==h||h({type:"change",compId:c,previousValue:w}))}),[c,r,h,w]);(0,n.useEffect)((()=>{const e=document.activeElement;e&&e.id.includes(c)&&!x&&e.dispatchEvent(new FocusEvent("focus"))}),[]);const[L,N,M,O]=(e=>{let{autocompleteValue:t,id:o,onAutocomplete:a,onChange:r,value:l}=e;const[i,s]=(0,n.useState)(!0),u=(0,n.useMemo)((()=>{if(!t||!i)return"";const e=l.toLocaleLowerCase().trimStart();if(!e)return"";const n=t.toLocaleLowerCase();if(!n.startsWith(e)||n===e)return"";const o=t.substr(e.length);return""+l+o}),[t,l,i]),c=(0,n.useCallback)((()=>{r(u),null==a||a({type:"autocomplete",compId:o,previousValue:l})}),[o,u,r,a,l]),d=(0,n.useCallback)((e=>{if(!u)return;const{key:t,currentTarget:n}=e,{selectionStart:o,selectionEnd:a}=n;if("Tab"===t)e.preventDefault(),e.stopPropagation();else if("ArrowRight"!==t||o!==a||o!==l.length)return;c()}),[u,l,c]),m=(0,n.useCallback)((()=>{u&&c()}),[u,c]);return[u,d,e=>{const{scrollLeft:t,scrollWidth:n,clientWidth:o}=e.currentTarget;s(0===t&&n<=o)},m]})({autocompleteValue:a,id:c,onAutocomplete:g,onChange:k,value:w});var V,R,T;return V="onSwipeRight",R=O,T=u,n.useEffect(Ze(V,R,T),[V,T,R]),o().createElement("div",{className:i(et,{[tt]:I})},o().createElement("div",{className:ot},L&&o().createElement(We,t()({},rt,{className:nt,inputType:"text",id:"search-box-autocomplete-input-"+c,dataTestId:"search-box-autocomplete-input",isDisabled:!0,readOnly:!0,value:L})),o().createElement(We,t()({},rt,{className:i(at,y(S.input)),inputType:"search",ariaAttributes:{label:C},id:"search-box-input-"+c,dataTestId:"search-box-input",isDisabled:m,maxLength:100,onBlur:p,onClick:f,onDblClick:v,onFocus:b,onInput:e=>{M(e)},onValueChange:k,onKeyPress:e=>{N(e),null==E||E(e)},placeholder:C,readOnly:m,ref:d,value:w,name:"q"}))),I&&o().createElement(Ye,{onClick:s,label:l}))};var it="TmqMif";const st=()=>n.createElement("div",{className:i(it,y(S.icon))},n.createElement($,null));var ut="aXOBOn",ct="KsMOVs",dt="ipSfdV",mt="lS0Z88";const gt=e=>{let{autocompleteValue:t,changeValue:a,clearButtonLabel:r,clearValue:l,id:s,inputRef:u,isDisabled:c,onAutocomplete:d,onBlur:m,onChange:g,onClick:p,onDblClick:h,onFocus:v,onKeyPress:b,placeholder:E,searchButtonLabel:y,value:S,isModalSuggestionsShown:C}=e;const w=(0,n.useRef)(null);return o().createElement("div",{className:ut,ref:w},o().createElement("div",{className:ct}),o().createElement("div",{className:dt,"data-testid":"search-icon"},o().createElement(st,null)),o().createElement(lt,{containerRef:w,clearButtonLabel:r,isDisabled:c,id:s,inputRef:u,onBlur:m,clearValue:l,onClick:p,onDblClick:h,onFocus:v,onChange:g,onKeyPress:b,onAutocomplete:d,placeholder:E,autocompleteValue:t,changeValue:a,value:S,isModalSuggestionsShown:C}),o().createElement("button",{"aria-label":y,className:i(mt,f),onClick:e=>{e.stopPropagation()},type:"submit"},o().createElement(st,null)))};var pt="wdVIxK",ht="yu5tzD",ft="shCc15",vt="Btc0MU";const bt=e=>{let{autocompleteValue:t,changeValue:n,clearButtonLabel:a,clearValue:r,dataTestId:l,expandedDesktopSuggestions:s,handleKeyDown:u,handleSubmit:c,id:d,inputRef:m,isDisabled:g,onAutocomplete:p,onBlur:h,onChange:f,onClick:v,onDblClick:b,onFocus:E,onKeyPress:y,placeholder:S,defaultFormAction:C,value:w,isModalSuggestionsShown:x}=e;return o().createElement("form",{className:i(pt,{[vt]:!!s,[ht]:!!t}),"data-testid":l,onSubmit:c,role:"search",action:C,onClick:()=>{var e;return null==(e=m.current)?void 0:e.focus()},onKeyDown:u},o().createElement(gt,{clearButtonLabel:a,isDisabled:g,id:d,inputRef:m,onBlur:h,clearValue:r,onClick:v,onDblClick:b,onFocus:E,onChange:f,onKeyPress:y,onAutocomplete:p,placeholder:S,searchButtonLabel:S,changeValue:n,autocompleteValue:t,value:w,isModalSuggestionsShown:x}),o().createElement("input",{className:ft,type:"submit",tabIndex:-1,"aria-hidden":"true",value:S}))};var Et="QdV_oU",yt="btVOrl",St="HRqysE";function Ct(e){let{searchButtonLabel:t,onFocus:n}=e;return o().createElement("button",{"aria-label":t,className:i(St,f),onFocus:n,onClick:e=>{e.stopPropagation()}},o().createElement(st,null))}const wt=(e,a)=>{const{autocompleteEnabled:r,changeValue:l,clearSuggestions:m,closeParentContainer:g=!1,closeSuggestions:p,direction:h,id:f,className:v,customClassNames:E=[],isDisabled:C=!1,isSuggestionsOpen:w=!1,onAutocomplete:x,onBlur:I,onChange:k,onClear:L,onClick:N,onDblClick:M,onFocus:O,onKeyPress:V,onModalSuggestionsClose:R,onModalSuggestionsOpen:T,onMouseEnter:P,onMouseLeave:_,onSubmit:F,onSuggestionsFooterClick:A,placeholder:D="",suggestions:B,suggestionsEnabled:H=!1,suggestionsLoading:j=!1,translations:q,useModalSuggestions:K,defaultFormAction:W,value:U="",layout:z,scopedClassName:X}=e,Z=r&&e.autocompleteValue||"",[$,Q]=(0,n.useState)(!1);(0,n.useImperativeHandle)(a,(()=>({focus:()=>{var e;null==(e=G.current)||e.focus()},blur:()=>{var e;null==(e=G.current)||e.blur()}})));const G=(0,n.useRef)(null),J=(0,n.useRef)(null),Y=(0,n.useRef)(null),{shouldShowSuggestions:ee,resetSuggestionsVisibility:te}=(e=>{let{isSuggestionsOpen:t,parentRef:o,suggestions:a,suggestionsEnabled:r,useModalSuggestions:l}=e;const[i,s]=(0,n.useState)(!0),u=(0,n.useCallback)((()=>{s(!0)}),[]);(0,n.useEffect)(u,[r,t,u]);const c=(0,n.useCallback)((()=>{s(!1)}),[]);return de("focus",[o],c),de("click",[o],c),{shouldShowSuggestions:Boolean(r&&t&&(l||i&&a)),resetSuggestionsVisibility:u}})({isSuggestionsOpen:w,parentRef:Y,suggestions:B,suggestionsEnabled:H,useModalSuggestions:K});(0,n.useEffect)((()=>{if(K)return ee?null==T||T():null==R||R({closeParentContainer:g}),()=>{null==R||R({closeParentContainer:g})}}),[ee,K]);const{activeOptionIndex:ne,moveDown:oe,moveUp:ae,navigate:re,scrollIntoRef:le,suggestionsWithNavigation:ie}=ce(e,ee),se=()=>{U&&(l(""),m(),null==k||k({type:"change",compId:f,previousValue:U}),null==L||L({type:"clear",compId:f,previousValue:U}))},me=Boolean(ee&&ie),ge=me&&K,pe=ie.items.filter((e=>{let{type:t}=e;return"item"===t})).length,he=pe>0?q.numberOfSuggestionsEntries.replace(/{{amount}}/g,""+pe):void 0,fe={autocompleteValue:Z,changeValue:l,clearButtonLabel:q.clearButtonText,clearValue:se,handleKeyDown:e=>{if(e.keyCode===u&&(me&&!ge?p():ge?(p(),se()):se(),e.preventDefault()),ee){const t={[c]:ae,[d]:oe,[s]:-1!==ne?re:void 0}[e.keyCode];t&&(t(),e.preventDefault())}},handleSubmit:e=>{var t;e.preventDefault(),null==(t=G.current)||t.blur(),null==F||F({type:"submit",compId:f})},id:f,isDisabled:C,onAutocomplete:x,onChange:k,onClick:N,onDblClick:M,onKeyPress:V,placeholder:D,defaultFormAction:W,value:U,isModalSuggestionsShown:ge},ve="icon-only"===z;return o().createElement("div",t()({id:f},b(e),{dir:h,ref:Y,className:i(yt,{[Et]:ee,"search-box-component-focus-ring-visible":$},v,y(S.root,...E)),onMouseEnter:P,onMouseLeave:_,"aria-live":"polite","aria-label":he,"data-testid":"search-box-container",tabIndex:-1}),ge&&o().createElement(Ne,{id:f,closeSuggestions:p,clearValue:se,inputRef:J,onSuggestionsFooterClick:A,query:U,scrollIntoRef:le,suggestions:ie,suggestionsLoading:j,translations:q,direction:h,scopedClassName:X},o().createElement(bt,t()({},fe,{dataTestId:"modal-suggestions-search-box-form",inputRef:J}))),ve?o().createElement(Ct,{searchButtonLabel:D,onFocus:O}):o().createElement(ue,{id:f,parentRef:Y,useModalSuggestions:K,isSuggestionsShown:me&&!ge,onSuggestionsFooterClick:A,query:U,scrollIntoRef:le,suggestions:ie,translations:q},o().createElement(bt,t()({},fe,{dataTestId:"search-box-form",expandedDesktopSuggestions:ee,inputRef:G,onBlur:e=>{null==I||I(e),Q(!1)},onFocus:e=>{null==O||O(e),Q(!0),te()}}))))};const xt=e=>e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`));var It;const kt={SearchBox:{component:o().forwardRef(wt),controller:(It=e=>{let{mapperProps:t,controllerUtils:n,stateValues:o}=e;const{compId:a,isMobileView:r,...l}=t,{isScrollingBlocked:i,setSiteScrollingBlocked:s,enableCyclicTabbing:u,disableCyclicTabbing:c,getMenuContainerApiByChildId:d,scopedClassName:m}=o,g={...l,closeSuggestions(){n.updateProps({isSuggestionsOpen:!1,closeParentContainer:!1,suggestionsLoading:!1})},clearSuggestions(){n.updateProps({suggestions:null})},changeValue(e){n.updateProps({value:e})}};return r?{...g,onModalSuggestionsOpen:()=>{i||s(!0,a),u(a)},onModalSuggestionsClose:function(e){let{closeParentContainer:t=!1}=void 0===e?{}:e;if(i&&s(!1,a),t){const e=null==d?void 0:d(a);null==e||e.close(!0)}c(a)},scopedClassName:m}:g},{useComponentProps:(e,t,n)=>{const o=(e=>({...e,updateStyles:t=>{const n=Object.entries(t).reduce(((e,[t,n])=>{return{...e,[(o=t,o.startsWith("--")?t:xt(t))]:void 0===n?null:n};var o}),{});e.updateStyles(n)}}))(n);return It({mapperProps:e,stateValues:t,controllerUtils:o})}})}}}(),l}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[SearchBox].54ada7d2.bundle.min.js.map