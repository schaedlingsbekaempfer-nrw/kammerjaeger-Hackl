!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[PopupContainer]",["imageClientApi","react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[PopupContainer]"]=t(require("@wix/image-kit"),require("react")):e["rb_wixui.thunderbolt[PopupContainer]"]=t(e.__imageClientApi__,e.React)}("undefined"!=typeof self?self:this,(function(e,t){return function(){var a={42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return a[e](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";n.r(i),n.d(i,{components:function(){return X}});var e=n(448),t=n.n(e),a=n(5329);function r(e){var t,a,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=r(e[t]))&&(n&&(n+=" "),n+=a);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}var o=function(){for(var e,t,a=0,n="";a<arguments.length;)(e=arguments[a++])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n};const s="wixui-",l=(e,...t)=>{const a=[];return e&&a.push(`${s}${e}`),t.forEach((e=>{e&&(a.push(`${s}${e}`),a.push(e))})),a.join(" ")};var d="HlRz5e",c=n(42662);const{STATIC_MEDIA_URL:u}=c,g=({fittingType:e,src:t,target:a,options:r})=>{const n=c.getPlaceholder(e,t,a,{...r,autoEncode:!0});return n?.uri&&!/^[a-z]+:/.test(n.uri)&&(n.uri=`${u}${n.uri}`),n},m=/^[a-z]+:/,p=e=>{const{id:t,containerId:r,uri:n,alt:i,name:o="",role:s,width:l,height:c,displayMode:p,devicePixelRatio:f,quality:h,alignType:v,bgEffectName:y="",focalPoint:b,upscaleMethod:E,className:I="",crop:x,imageStyles:M={},targetWidth:_,targetHeight:P,targetScale:w,onLoad:S=(()=>{}),onError:N=(()=>{}),shouldUseLQIP:O,containerWidth:L,containerHeight:T,getPlaceholder:A,isInFirstFold:R,placeholderTransition:C,socialAttrs:j,isSEOBot:k,skipMeasure:W,hasAnimation:$}=e,q=a.useRef(null);let z="";const B="blur"===C,G=a.useRef(null);if(!G.current)if(A||O||R||k){const e={upscaleMethod:E,...h||{},shouldLoadHQImage:R,isSEOBot:k,hasAnimation:$};G.current=(A||g)({fittingType:p,src:{id:n,width:l,height:c,crop:x,name:o,focalPoint:b},target:{width:L,height:T,alignment:v,htmlTag:"img"},options:e}),z=!G.current.transformed||R||k?"":"true"}else G.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const H=!k&&(A||O)&&!R&&G.current.transformed,F=a.useMemo((()=>JSON.stringify({containerId:r,...r&&{containerId:r},...v&&{alignType:v},...W&&{skipMeasure:!0},displayMode:p,...L&&{targetWidth:L},...T&&{targetHeight:T},..._&&{targetWidth:_},...P&&{targetHeight:P},...w&&{targetScale:w},isLQIP:H,isSEOBot:k,lqipTransition:C,imageData:{width:l,height:c,uri:n,name:o,displayMode:p,hasAnimation:$,...h&&{quality:h},...f&&{devicePixelRatio:f},...b&&{focalPoint:b},...x&&{crop:x},...E&&{upscaleMethod:E}}})),[r,v,W,p,T,L,_,P,w,H,k,C,l,c,n,o,h,f,b,x,E,$]),U=G.current,V=U?.uri,D=U?.srcset,J=U.css?.img,K=`${d} ${I}`;a.useEffect((()=>{const e=q.current;S&&e?.currentSrc&&e?.complete&&S({target:e})}),[]);const Y=U&&!U?.transformed?`max(${l}px, 100%)`:_?`${_}px`:null;return a.createElement("wow-image",{id:t,class:K,"data-image-info":F,"data-motion-part":"BG_IMG","data-bg-effect-name":y,"data-has-ssr-src":z,"data-animate-blur":!k&&H&&B?"":void 0,style:Y?{"--wix-img-max-width":Y}:{}},a.createElement("img",{src:V,ref:q,alt:i||"",role:s,style:{...J,...M},onLoad:S,onError:N,width:L||void 0,height:T||void 0,...j,srcSet:R?D?.dpr?.map((e=>m.test(e)?e:`${u}${e}`)).join(", "):void 0,fetchpriority:R?"high":void 0,loading:!1===R?"lazy":void 0,suppressHydrationWarning:!0}))};var f="I5zqsT";var h=e=>{var r,n;const{id:i,uri:s,alt:l,role:d,className:c,imageStyles:u={},targetWidth:g,targetHeight:m,onLoad:h,onError:v,containerWidth:y,containerHeight:b,isInFirstFold:E,socialAttrs:I,skipMeasure:x,responsiveImageProps:M,zoomedImageResponsiveOverride:_}=e,P=g||y,w=m||b,S=P+"px";return null!=M&&M.css&&null!=M&&M.srcset?a.createElement("img",t()({fetchpriority:E?"high":void 0,loading:!1===E?"lazy":void 0,sizes:S,srcSet:x?null==_?void 0:_.srcset:null==M?void 0:M.srcset,id:i,src:s,alt:l||"",role:d,style:{...u,...x?{...null==_||null==(r=_.css)?void 0:r.img}:{...null==M||null==(n=M.css)?void 0:n.img}},onLoad:h,onError:v,className:o(c,f),width:P,height:w},I)):a.createElement(p,e)};var v=e=>{var t,r,n;const{className:i,customIdPrefix:o,getPlaceholder:s,hasAnimation:l,...d}=e,c=a.useMemo((()=>JSON.stringify({containerId:d.containerId,alignType:d.alignType,fittingType:d.displayMode,hasAnimation:l,imageData:{width:d.width,height:d.height,uri:d.uri,name:d.name,...d.quality&&{quality:d.quality},displayMode:d.displayMode}})),[d,l]),u=a.useRef(null);u.current||(u.current=s?s({fittingType:d.displayMode,src:{id:d.uri,width:d.width,height:d.height,name:d.name},target:{width:d.containerWidth,height:d.containerHeight,alignment:d.alignType,htmlTag:"bg"},options:{hasAnimation:l,allowAnimatedTransform:!1}}):{uri:void 0,css:{img:{}},attr:{img:{},container:{}}});const g=u.current,m=null!=(t=null==g?void 0:g.uri)?t:"",p=null!=(r=null==(n=g.css)?void 0:n.container)?r:{},f=Object.assign(m?{backgroundImage:"url("+m+")"}:{},p);return a.createElement("wix-bg-image",{id:""+(o||"bgImg_")+d.containerId,class:i,style:f,"data-tiled-image-info":c,"data-has-bg-scroll-effect":d.hasBgScrollEffect||"","data-bg-effect-name":d.bgEffectName||"","data-motion-part":"BG_IMG"})};const y=new RegExp("<%= compId %>","g"),b=(e,t)=>e.replace(y,t);var E=e=>null==e?void 0:e.replace(":hover",""),I="bX9O_S",x="Z_wCwr",M="Jxk_UL",_="K8MSra",P="YTb3b4";const w={quality:{unsharpMask:{radius:.33,amount:1,threshold:0}},devicePixelRatio:1};var S=e=>{const{id:r,videoRef:n,videoInfo:i,posterImageInfo:s,muted:l,preload:d,loop:c,alt:u,isVideoEnabled:g,getPlaceholder:m,extraClassName:p=""}=e;i.containerId=E(i.containerId);const f=a.useMemo((()=>JSON.stringify(i)),[i]),v=a.createElement(a.Fragment,null,s.filterEffectSvgString&&a.createElement("svg",{id:"svg_"+i.containerId,className:P},a.createElement("defs",{dangerouslySetInnerHTML:{__html:b(s.filterEffectSvgString,i.containerId)}})),a.createElement(h,t()({key:i.videoId+"_img",id:s.containerId+"_img",className:o(x,M,"bgVideoposter",p),imageStyles:{width:"100%",height:"100%"}},s,w,{getPlaceholder:m})));return g?a.createElement("wix-video",{id:r,"data-video-info":f,"data-motion-part":"BG_IMG",class:o(I,"bgVideo",p)},a.createElement("video",{key:i.videoId+"_video",ref:n,id:i.containerId+"_video",className:_,crossOrigin:"anonymous","aria-label":u,playsInline:!0,preload:d,muted:l,loop:c,tabIndex:-1}),v):v},N="SUz0WK";var O=e=>{const{id:t,containerId:r,pageId:n,children:i,bgEffectName:o="",containerSize:s}=e;return a.createElement("wix-bg-media",{id:t,class:N,"data-container-id":r,"data-container-size":((null==s?void 0:s.width)||0)+", "+((null==s?void 0:s.height)||0),"data-page-id":n,"data-bg-effect-name":o,"data-motion-part":"BG_MEDIA"},i)};const L="bgOverlay";var T="m4khSP",A="FNxOn5";var R=e=>{const{imageOverlay:r}=e;return a.createElement("div",{"data-testid":L,className:T},r&&a.createElement(v,t()({customIdPrefix:"bgImgOverlay_",className:A},r)))};const C="bgLayers",j="colorUnderlay",k="mediaPadding",W="canvas";var $="MW5IWV",q="N3eg0s",z="Kv1aVt",B="dLPlxY",G="VgO9Yg",H="LWbAav",F="yK6aSC",U="K_YxMd",V="NGjcJN",D="mNGsUM";const J="bgImage";var K=e=>{const{videoRef:r,canvasRef:n,hasBgFullscreenScrollEffect:i,image:s,backgroundImage:l,backgroundMedia:d,video:c,backgroundOverlay:u,shouldPadMedia:g,extraClass:m="",shouldRenderUnderlay:p=!c,reducedMotion:f=!1,getPlaceholder:y}=e,{onImageLoad:b}=(e=>{let{onReady:t,image:r}=e;return(0,a.useEffect)((()=>{t&&!r&&t()}),[t,r]),{onImageLoad:e=>{null!=r&&r.onLoad&&r.onLoad(e),t&&t()}}})(e),I=E(e.containerId),x="img_"+E(I),M=s&&a.createElement(h,t()({id:x,className:o(z,B,D,J),imageStyles:{width:"100%",height:"100%"},getPlaceholder:y},s,{onLoad:b})),_=l&&a.createElement(v,t()({},l,{containerId:I,className:o(z,B,D,J),getPlaceholder:y})),P=c&&a.createElement(S,t()({id:"videoContainer_"+I},c,{extraClassName:F,reducedMotion:f,videoRef:r,getPlaceholder:y})),w=a.createElement(a.Fragment,null,M,_,P,n&&a.createElement("canvas",{id:I+"webglcanvas",ref:n,className:o(U,"webglcanvas"),"aria-label":(null==c?void 0:c.alt)||"",role:"presentation","data-testid":W})),N=d?a.createElement(O,t()({id:"bgMedia_"+I},d),w):a.createElement("div",{id:"bgMedia_"+I,"data-motion-part":"BG_MEDIA",className:G},w),L=u&&a.createElement(R,u);return a.createElement("div",{id:C+"_"+I,"data-hook":C,"data-motion-part":"BG_LAYER",className:o($,m,{[q]:i})},p&&a.createElement("div",{"data-testid":j,className:o(H,z)}),g?a.createElement("div",{"data-testid":k,className:V},N,L):a.createElement(a.Fragment,null,N,L))};var Y={root:"lightbox"};const Q=e=>e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`));var Z;const X={PopupContainer:{component:e=>{const{id:r,fillLayers:n,children:i,className:s,customClassNames:d=[]}=e,c={onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave};return a.createElement("div",t()({id:r},(e=>Object.entries(e).reduce(((e,[t,a])=>(t.includes("data-")&&(e[t]=a),e)),{}))(e),{className:o(s,l(Y.root,...d))},c,{"data-block-level-container":"PopupContainer"}),a.createElement(K,n),i())},controller:(Z=e=>{let{mapperProps:t,stateValues:a}=e;const{pageId:r}=a;return{...t,pageId:r}},{useComponentProps:(e,t,a)=>{const r=(e=>({...e,updateStyles:t=>{const a=Object.entries(t).reduce(((e,[t,a])=>{return{...e,[(r=t,r.startsWith("--")?t:Q(t))]:void 0===a?null:a};var r}),{});e.updateStyles(a)}}))(a);return Z({mapperProps:e,stateValues:t,controllerUtils:r})}})}}}(),i}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[PopupContainer].aea6a887.bundle.min.js.map